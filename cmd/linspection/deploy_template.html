<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="refresh" content="10">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Trend Micro Cloud One Netwrok Security Hosted Insfrastructure Run Stack</title>
  </head>
  <script>
    function launch_stack() {
        aws_region = document.getElementById('aws_region').value;
        stack_name = "TrendMicroCloudOneNSHIStateControl-" + aws_region
        template_url = "https://mpkondrashin-lambdastorage.s3.amazonaws.com/gh/linspection_VERSION.yaml"
        url = "https://" + aws_region + ".console.aws.amazon.com/cloudformation/home?region=" + aws_region + "#/stacks/create/review?templateURL="+template_url+"&stackName="+stack_name+"&param_AWSRegion="+ aws_region
        window.open(url, '_blank', '');
    }
  </script>
  <body>
    <main>
      <form id="launch_stack_form">
        <div class="container my-5">
          <h1>Cloud One Network Security Hosted Infrastructure</h1>
          <h3>Deploy Inspection Bypass AWS Lambda Function Version VERSION</h3>
          <div class="row">
            <div class="col-9">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="inputGroupSelect01">AWS Region</label>
                </div>
                <select class="custom-select" name="aws_region" id="aws_region">
                  <option value="us-west-1">us-west-1</option>
                  <option value="us-west-2">us-west-2</option>
                  <option value="us-east-1">us-east-1</option>
                  <option value="us-east-2">us-east-2</option>
                  <option value="sa-east-1">sa-east-1</option>
                  <option value="ap-south-1">ap-south-1</option>
                  <option value="ap-southeast-1">ap-southeast-1</option>
                  <option value="ap-southeast-2">ap-southeast-2</option>
                  <option value="ap-northeast-1">ap-northeast-1</option>
                  <option value="ap-northeast-2">ap-northeast-2</option>
                  <option value="ap-northeast-3">ap-northeast-3</option>
                  <option value="eu-central-1">eu-central-1</option>
                  <option value="eu-north-1">eu-north-1</option>
                  <option value="eu-west-1">eu-west-1</option>
                  <option value="eu-west-2">eu-west-2</option>
                  <option value="eu-west-3">eu-west-3</option>
                  <option value="ca-central-1">ca-central-1</option>
                </select>
              </div>
             </div>
            <div class="col-3">
              <button  type="button" class="btn btn-primary" onclick="launch_stack()">Launch Stack</button>
            </div>
          </div>
          <p>For more details visit <a href="https://github.com/mpkondrashin/inspection">Project Page</a>.</p>
        </div>
      </form>
    </main>
  </body>
</html>
