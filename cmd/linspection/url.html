<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="refresh" content="10">
    <title>Trend Micro Cloud One Netwrok Security Hosted Insfrastructure Run Stack</title>
  </head>
  <style>
    * {
        font-family: sans-serif;
    }
    div.centered {
        position: absolute;
        top:  50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    table tr td, table tr th { padding: 0; }
  </style>
  <script>
    function launch_stack() {
        aws_region = document.getElementById('aws_region').value;
        stack_name = "TrendMicroCloudOneNSHIStateControl-" + aws_region
        template_url = "https://mpkondrashin-lambdastorage.s3.amazonaws.com/aws-lambda.yaml"
        url = "https://" + aws_region + ".console.aws.amazon.com/cloudformation/home?region=" + aws_region + "#/stacks/create/review?templateURL="+template_url+"&stackName="+stack_name+"&param_AWSRegion="+ aws_region
        window.open(url, '_blank', '');
    }
  </script>
  <body>
    <main>
        <div class="centered">
        Cloud One Network Security Hosted Infrastructure</br>
        Launch Inspection Bypass Function Stack<br/>
        <form id="launch_stack_form">
            <table widht="100%">
                <tr>
                        <td>AWS Region: </td>
                        <td>
            <select name="aws_region" id="aws_region">
                <option value="us-west-1">us-west-1</option>
                <option value="us-west-2">us-west-2</option>
                <option value="us-east-1">us-east-1</option>
                <option value="us-east-2">us-east-2</option>
                <option value="sa-east-1">sa-east-1</option>
                <option value="ap-south-1">ap-south-1</option>
                <option value="ap-southeast-1">ap-southeast-1</option>
                <option value="ap-southeast-2">ap-southeast-2</option>
                <option value="ap-northeast-1">ap-northeast-1</option>
                <option value="ap-northeast-2">ap-northeast-2</option>
                <option value="ap-northeast-3">ap-northeast-3</option>
                <option value="eu-central-1">eu-central-1</option>
                <option value="eu-north-1">eu-north-1</option>
                <option value="eu-west-1">eu-west-1</option>
                <option value="eu-west-2">eu-west-2</option>
                <option value="eu-west-3">eu-west-3</option>
                <option value="ca-central-1">ca-central-1</option>
              </select>
            </td>
            </tr>
            <tr>
                <td></td>
                <td>
                  <button onclick="launch_stack()">Launch Stack</button>
                </td>
            </tr>
            </table>
      </form>
    </div>
    </main>
  </body>
</html>